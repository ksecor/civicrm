-- /*******************************************************
-- *
-- * Sample Data for CiviCase Component
-- *
-- *******************************************************/

-- Enable Case Tab in Site Preferences
UPDATE civicrm_preferences SET `contact_view_options`= '123456789101113';

-- Set 'Work' as default location type and 'Voicemail' as default phone type
UPDATE civicrm_location_type SET `is_default` = 0 WHERE `name` = 'Home';
UPDATE civicrm_location_type SET `is_default` = 1 WHERE `name` = 'Work';
SELECT @ptId        := max(id) from civicrm_option_group where name = 'phone_type';
UPDATE civicrm_option_value SET `is_default` = 1 WHERE `option_group_id` = @ptId AND `name` = 'Voicemail';

-- Update dedupe matching rules to not require email.
DELETE FROM civicrm_dedupe_rule WHERE id='3';
UPDATE civicrm_dedupe_rule_group SET threshold='11' where id='1';

-- Update number of allowed locations
UPDATE civicrm_preferences set location_count='2';


-- /*******************************************************
-- *
-- * Case Types
-- *
-- *******************************************************/
SELECT @option_group_id_case_type        := max(id) from civicrm_option_group where name = 'case_type';

-- get rid of HRD-related sample case types
DELETE FROM `civicrm_option_value` WHERE option_group_id = @option_group_id_case_type;

INSERT INTO
   `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`)
VALUES
    (@option_group_id_case_type, 'Inpatient treatment',  1, 'inpatient_treatment', NULL, 0,  0, 4, 'Inpatient treatment case', 0, 0, 1),
    (@option_group_id_case_type, 'Intervention',  2, 'intervention', NULL, 0,  0, 5, 'Intervention case', 0, 0, 1),
    (@option_group_id_case_type, 'Referral to counselor',  3, 'referral_to_counselor', NULL, 0,  0, 1, 'Referral to counselor case', 0, 0, 1),
    (@option_group_id_case_type, 'Referral to family doctor',  4, 'referral_to_family_doctor', NULL, 0,  0, 2, 'Referral to family doctor case', 0, 0, 1),
    (@option_group_id_case_type, 'Referral to specialist',  5, 'referral_to_specialist', NULL, 0,  0, 3, 'Referral to specialist case', 0, 0, 1),
    (@option_group_id_case_type, 'Relapse prevention',  6, 'relapse_prevention', NULL, 0,  0, 6, 'Relapse prevention case', 0, 0, 1),
    (@option_group_id_case_type, 'Return to work',  7, 'return_to_work', NULL, 0,  0, 7, 'Return to work case', 0, 0, 1);

-- /*******************************************************
-- *
-- * Case Status - Set names for Open and Closed
-- *
-- *******************************************************/
SELECT @csgId        := max(id) from civicrm_option_group where name = 'case_status';
UPDATE civicrm_option_value SET name = 'Open' where option_group_id = @csgId AND label = 'Ongoing';
UPDATE civicrm_option_value SET name = 'Closed' where option_group_id = @csgId AND label = 'Resolved';

-- /*******************************************************
-- *
-- * Activity Types
-- *
-- *******************************************************/
SELECT @option_group_id_activity_type        := max(id) from civicrm_option_group where name = 'activity_type';

SELECT @max_val := MAX(ROUND(op.value)) FROM civicrm_option_value op WHERE op.option_group_id  = @option_group_id_activity_type;

INSERT INTO 
   `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`, `component_id` ) 
VALUES
    (@option_group_id_activity_type, 'Open Case', (SELECT @max_val := @max_val+1), 'Open Case',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1 , 7),
    (@option_group_id_activity_type, 'Follow up', (SELECT @max_val := @max_val+1), 'Follow up',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),
    (@option_group_id_activity_type, 'Assign classification - skeleton', (SELECT @max_val := @max_val+1), 'Assign classification - skeleton',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),
    (@option_group_id_activity_type, 'Change Case Type', (SELECT @max_val := @max_val+1), 'Change Case Type',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Change Case Status', (SELECT @max_val := @max_val+1), 'Change Case Status',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Close Case', (SELECT @max_val := @max_val+1), 'Close Case',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Plan inpatient admission', (SELECT @max_val := @max_val+1), 'Plan inpatient admission',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ), 
    (@option_group_id_activity_type, 'Confirm expected admission date', (SELECT @max_val := @max_val+1), 'Confirm expected admission date',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Confirm actual admission', (SELECT @max_val := @max_val+1), 'Confirm actual admission',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Confirm expected discharge date', (SELECT @max_val := @max_val+1), 'Confirm expected discharge date',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Confirm actual discharge date', (SELECT @max_val := @max_val+1), 'Confirm actual discharge date',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ), 
    (@option_group_id_activity_type, 'Receive report of early withdrawal from treatment', (SELECT @max_val := @max_val+1), 'Receive report of early withdrawal from treatment',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Plan intervention', (SELECT @max_val := @max_val+1), 'Plan intervention',  NULL, 0,  0, (SELECT @max_val := @max_val+1), 'Include in the details a list of expected attendees and their roles.', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Rehearse intervention', (SELECT @max_val := @max_val+1), 'Rehearse intervention',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Conduct intervention', (SELECT @max_val := @max_val+1), 'Conduct intervention',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),      
    (@option_group_id_activity_type, 'Debrief intervention', (SELECT @max_val := @max_val+1), 'Debrief intervention',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Facilitate first appointment', (SELECT @max_val := @max_val+1), 'Facilitate first appointment',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),     
    (@option_group_id_activity_type, 'Survey client satisfaction (Counselor referral)', (SELECT @max_val := @max_val+1), 'Survey client satisfaction Referral to counselor',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Determine needs and preferences (Family doctor referral)', (SELECT @max_val := @max_val+1), 'Determine needs and preferences Referral to family doctor',  NULL, 0,  0, (SELECT @max_val := @max_val+1), 'Where does the client live\? Are there any GP\'s that the client would prefer not to see\?', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Notify selected referral target', (SELECT @max_val := @max_val+1), 'Notify selected referral target',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Call client and deliver names', (SELECT @max_val := @max_val+1), 'Call client and deliver names',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),     
    (@option_group_id_activity_type, 'Survey client satisfaction (Family doctor referral)', (SELECT @max_val := @max_val+1), 'Survey client satisfaction Referral to family doctor',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Determine needs and preferences (Specialist referral)', (SELECT @max_val := @max_val+1), 'Determine needs and preferences Referral to specialist',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Prescreen referral target', (SELECT @max_val := @max_val+1), 'Prescreen referral target',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Survey client satisfaction (Specialist referral)', (SELECT @max_val := @max_val+1), 'Survey client satisfaction Referral to specialist',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Sign case coordination agreement', (SELECT @max_val := @max_val+1), 'Sign case coordination agreement',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Receive comprehensive plan for assessment and treatment', (SELECT @max_val := @max_val+1), 'Receive comprehensive plan for assessment and treatment',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Engage workplace supervisor', (SELECT @max_val := @max_val+1), 'Engage workplace supervisor',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Engage community mentor', (SELECT @max_val := @max_val+1), 'Engage community mentor',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Develop biological monitoring plan', (SELECT @max_val := @max_val+1), 'Develop biological monitoring plan',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Receive community mentor report', (SELECT @max_val := @max_val+1), 'Receive community mentor report',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Receive treating physician report', (SELECT @max_val := @max_val+1), 'Receive treating physician report',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Receive workplace supervisor report', (SELECT @max_val := @max_val+1), 'Receive workplace supervisor report',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Record biological monitoring results', (SELECT @max_val := @max_val+1), 'Record biological monitoring results',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Review prescribing privileges', (SELECT @max_val := @max_val+1), 'Review prescribing privileges',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Review hospital privileges', (SELECT @max_val := @max_val+1), 'Review hospital privileges',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Summarize case for discharge', (SELECT @max_val := @max_val+1), 'Summarize case for discharge',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Beginning of earliest period totally absent from work', (SELECT @max_val := @max_val+1), 'Beginning of earliest period totally absent from work',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Earliest return to any work activity', (SELECT @max_val := @max_val+1), 'Earliest return to any work activity',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Beginning of period of restricted duties', (SELECT @max_val := @max_val+1), 'Beginning of period of restricted duties',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Beginning of period of attempted full duties', (SELECT @max_val := @max_val+1), 'Beginning of period of attempted full duties',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Beginning of period totally absent from work', (SELECT @max_val := @max_val+1), 'Beginning of period totally absent from work',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),
    (@option_group_id_activity_type, 'Notify service provider', (SELECT @max_val := @max_val+1), 'Notify service provider',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),
    (@option_group_id_activity_type, 'Assign classification - Presenting Problem', (SELECT @max_val := @max_val+1), 'Assign classification - Presenting Problem',  NULL, 0,  0, (SELECT @max_val := @max_val+1), 'Use when the original problems have changed. So technically this is not the Presenting Problem, but it seems to be the common way of describing this.', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Assign classification - Specialty Certification', (SELECT @max_val := @max_val+1), 'Assign classification - Specialty Certification',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 );

SELECT @at1        := max(value) from civicrm_option_value where name = 'Open Case';
SELECT @at2        := max(value) from civicrm_option_value where name = 'Follow up';
SELECT @at3        := max(value) from civicrm_option_value where name = 'Assign classification - skeleton';
SELECT @at5        := max(value) from civicrm_option_value where name = 'Change Case Status';
SELECT @at12       := max(value) from civicrm_option_value where name = 'Plan inpatient admission';
SELECT @at13       := max(value) from civicrm_option_value where name = 'Confirm expected admission date';
SELECT @at14       := max(value) from civicrm_option_value where name = 'Confirm actual admission';
SELECT @at15       := max(value) from civicrm_option_value where name = 'Confirm expected discharge date';
SELECT @at16       := max(value) from civicrm_option_value where name = 'Confirm actual discharge date';
SELECT @at17       := max(value) from civicrm_option_value where name = 'Receive report of early withdrawal from treatment';
SELECT @at18       := max(value) from civicrm_option_value where name = 'Plan intervention';
SELECT @at19       := max(value) from civicrm_option_value where name = 'Rehearse intervention';
SELECT @at20       := max(value) from civicrm_option_value where name = 'Conduct intervention';
SELECT @at21       := max(value) from civicrm_option_value where name = 'Debrief intervention';
SELECT @at22       := max(value) from civicrm_option_value where name = 'Facilitate first appointment';
SELECT @at23       := max(value) from civicrm_option_value where name = 'Survey client satisfaction Referral to counselor';
SELECT @at24       := max(value) from civicrm_option_value where name = 'Notify service provider';
SELECT @at25       := max(value) from civicrm_option_value where name = 'Assign classification - Presenting Problem';
SELECT @at26       := max(value) from civicrm_option_value where name = 'Assign classification - Specialty Certification';

-- /*******************************************************
-- *
-- * Custom Data Groups and Fields
-- *
-- *******************************************************/
-- Open Case custom fields
INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
    VALUES ('Intake_Questions', 'Intake Questions', 'Activity', NULL, @at1, 'Inline', 0, '', '', 2, 1, 'civicrm_value_intake_questions_2', 0, 0, 0);
SELECT @cg            := max(id) from civicrm_custom_group where name = 'Intake_Questions';

INSERT INTO `civicrm_option_group` (`name`, `label`, `description`, `is_reserved`, `is_active`)
    VALUES  ('caller_20081023114820', 'Caller', NULL, NULL, 1),
            ('severity_rating_20081023115218', 'Severity Rating', NULL, NULL, 1),
            ('problem_person_20081127000000', 'Problem Person', NULL, NULL, 1),
            ('how_did_you_hear_20081127000000', 'How Did You Hear About Us', NULL, NULL, 1),
			('self_care_20081204000000','Self Care Concerns',NULL,NULL,1),
			('complexity_rating_20081208000000', 'Complexity Rating', NULL, NULL, 1),
			('major_concerns_20081208000000', 'Major Concerns', NULL, NULL, 1),
			('presenting_problem_20081216000000', 'Presenting Problem', NULL, NULL, 1);

SELECT @og1            := max(id) from civicrm_option_group where name = 'caller_20081023114820';
SELECT @og2            := max(id) from civicrm_option_group where name = 'severity_rating_20081023115218';
SELECT @og3            := max(id) from civicrm_option_group where name = 'problem_person_20081127000000';
SELECT @og4            := max(id) from civicrm_option_group where name = 'how_did_you_hear_20081127000000';
SELECT @og5            := max(id) from civicrm_option_group where name = 'self_care_20081204000000';
SELECT @og6            := max(id) from civicrm_option_group where name = 'complexity_rating_20081208000000';
SELECT @og7            := max(id) from civicrm_option_group where name = 'major_concerns_20081208000000';
SELECT @og8            := max(id) from civicrm_option_group where name = 'presenting_problem_20081216000000';

INSERT INTO `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`, `component_id`)
    VALUES  (@og1, 'Physician', 'Physician', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
            (@og1, 'Resident', 'Resident', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
            (@og1, 'Medical Student', 'Medical Student', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
            (@og1, 'Spouse', 'Spouse', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
            (@og1, 'Child', 'Child', NULL, NULL, NULL, 0, 5, NULL, 0, 0, 1, NULL),
            (@og1, 'Colleague', 'Colleague', NULL, NULL, NULL, 0, 6, NULL, 0, 0, 1, NULL),
            (@og1, 'Regulatory body', 'Regulatory body', NULL, NULL, NULL, 0, 7, NULL, 0, 0, 1, NULL),
            (@og1, 'Treating clinician', 'Treating clinician', NULL, NULL, NULL, 0, 8, NULL, 0, 0, 1, NULL),
            (@og1, 'Member of the public', 'Member of the public', NULL, NULL, NULL, 0, 9, NULL, 0, 0, 1, NULL),
            (@og1, 'Other relationship', 'Other relationship', NULL, NULL, NULL, 0, 10, NULL, 0, 0, 1, NULL),
            (@og2, '1', '1', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
            (@og2, '2', '2', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
            (@og2, '3', '3', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
            (@og2, '4', '4', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
            (@og2, '5', '5', NULL, NULL, NULL, 0, 5, NULL, 0, 0, 1, NULL),
            (@og3, 'Caller', 'Caller', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
            (@og3, 'Spouse/Partner', 'Spouse/Partner', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
            (@og3, 'Family Member', 'Family Member', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
            (@og3, 'Colleague', 'Colleague', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
            (@og4, 'Personal knowledge', 'Personal knowledge', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
			(@og4, 'Professional information', 'Professional information', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
			(@og4, 'Internet reference', 'Internet reference', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
			(@og4, 'Educational presentation', 'Educational presentation', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
			(@og4, 'Medical School', 'Medical School', NULL, NULL, NULL, 0, 5, NULL, 0, 0, 1, NULL),
			(@og4, 'Professional literature', 'Professional literature', NULL, NULL, NULL, 0, 6, NULL, 0, 0, 1, NULL),
			(@og4, 'PHP Promotional Materials', 'PHP Promotional Materials', NULL, NULL, NULL, 0, 7, NULL, 0, 0, 1, NULL),
			(@og4, 'PHP Booth', 'PHP Booth', NULL, NULL, NULL, 0, 8, NULL, 0, 0, 1, NULL),
			(@og4, 'Other', 'Other', NULL, NULL, NULL, 0, 9, NULL, 0, 0, 1, NULL),
			(@og5, 'Exercise', '1', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
			(@og5, 'Workload', '2', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
			(@og5, 'Diet', '3', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
			(@og5, 'Finances', '4', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
			(@og5, 'Sleep', '5', NULL, NULL, NULL, 0, 5, NULL, 0, 0, 1, NULL),
            (@og6, '1', '1', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
            (@og6, '2', '2', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
            (@og6, '3', '3', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
            (@og6, '4', '4', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
            (@og6, '5', '5', NULL, NULL, NULL, 0, 5, NULL, 0, 0, 1, NULL),
			(@og7, 'Suicide Risk', '1', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
			(@og7, 'Fit to Practice', '2', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
			(@og7, 'Patient Risk', '3', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
			(@og7, 'General Health', '4', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
			(@og7, 'Resist to Care', '5', NULL, NULL, NULL, 0, 5, NULL, 0, 0, 1, NULL),
			(@og7, 'CPSBC Involved', '6', NULL, NULL, NULL, 0, 6, NULL, 0, 0, 1, NULL),
			(@og8,'Addictive Disorders','1',NULL,NULL,NULL,0,1,'Includes substance abuse, dependence, gambling, sexually compulsive behaviours, and dual disorders.',0,0,1,NULL),
			(@og8,'1.1 Substance abuse','1.1',NULL,NULL,NULL,0,2,'Problem drug use that meets DSM diagnostic criteria for abuse (see also table for  variable 13: Problem Drugs)',0,0,1,NULL),
			(@og8,'1.2 Substance dependence','1.2',NULL,NULL,NULL,0,3,'Dependence on a drug that that meets DSM diagnostic criteria at time of contact.',0,0,1,NULL),
			(@og8,'1.3 Gambling','1.3',NULL,NULL,NULL,0,4,'Difficulties with lack of control over gambling behaviour that is producing problems for the client.',0,0,1,NULL),
			(@og8,'1.4 Sexually compulsive behaviour','1.4',NULL,NULL,NULL,0,5,'Difficulties with lack of control over sexual behaviour that is producing problems for the client.',0,0,1,NULL),
			(@og8,'1.5 Dual disorders','1.5',NULL,NULL,NULL,0,6,'Co-occurrence of at least one addictive problem and at least one psychiatric/psychological problem.',0,0,1,NULL),
			(@og8,'1.6 Other addictive behaviours','1.6',NULL,NULL,NULL,0,7,'Specify',0,0,1,NULL),
			(@og8,'Psychiatric Disorders (DSM criteria met)','2',NULL,NULL,NULL,0,8,'Past or current psychiatric diagnosis at time of presenting to PHP.',0,0,1,NULL),
			(@og8,'2.1 Mood disorders','2.1',NULL,NULL,NULL,0,9,'Including major depression, dysthymia, bipolar disorder, schizo-affective disorder.',0,0,1,NULL),
			(@og8,'2.2 Anxiety disorders','2.2',NULL,NULL,NULL,0,10,'Anxiety including panic disorder, GAD, acute stress disorder, PTSD, OCD, etc.',0,0,1,NULL),
			(@og8,'2.3 Personality disorders','2.3',NULL,NULL,NULL,0,11,'Pattern of experience and behaviour that is pervasive and inflexible; examples include borderline, narcissistic, antisocial, paranoid personality disorder.',0,0,1,NULL),
			(@og8,'2.4 Eating disorders','2.4',NULL,NULL,NULL,0,12,'Severe disturbances in eating behaviour - e.g. anorexia nervosa and bulimia nervosa.',0,0,1,NULL),
			(@og8,'2.5 Other psychiatric problem(s)','2.5',NULL,NULL,NULL,0,13,'Please specify according to DSM diagnostic criteria.',0,0,1,NULL),
			(@og8,'Mental Health (no formal Dx)','3',NULL,NULL,NULL,0,14,'Stress, anxiety, depression, and other emotional problems, not formally diagnosed by DSM criteria.',0,0,1,NULL),
			(@og8,'3.1 Anxiety, stress','3.1',NULL,NULL,NULL,0,15,'Disturbed  function or reaction of individual as a result of adverse stimuli, or self-identified anxiety.',0,0,1,NULL),
			(@og8,'3.2 Depression','3.2',NULL,NULL,NULL,0,16,'Self-identified low-mood',0,0,1,NULL),
			(@og8,'3.3 Suicide ideation','3.3',NULL,NULL,NULL,0,17,'Troubling thoughts of suicide',0,0,1,NULL),
			(@og8,'3.4 Suicide attempt','3.4',NULL,NULL,NULL,0,18,'Client has attempted suicide',0,0,1,NULL),
			(@og8,'3.5 Other mental health','3.5',NULL,NULL,NULL,0,19,'Specify',0,0,1,NULL),
			(@og8,'Occupational Issues','4',NULL,NULL,NULL,0,20,'All presenting problems that relate to the workplace including harassment, abuse, complaints, audits, relationships.',0,0,1,NULL),
			(@og8,'4.1 Emotional abuse - subject of','4.1',NULL,NULL,NULL,0,21,'Subject of verbal abuse or harassment causing emotional distress in the workplace involving supervisors, colleagues or patients.',0,0,1,NULL),
			(@og8,'4.2 Sexual abuse - subject of','4.2',NULL,NULL,NULL,0,22,'Subject of sexual suggestion or innuendo and/or physical touching in the workplace',0,0,1,NULL),
			(@og8,'4.3 Physical abuse - subject of','4.3',NULL,NULL,NULL,0,23,'Subject of hitting or other physical violence in the workplace',0,0,1,NULL),
			(@og8,'4.4 Emotional abuse - perpetrator of','4.4',NULL,NULL,NULL,0,24,'Perpetrator of verbal abuse or harassment causing emotional distress in the workplace involving supervisors, colleagues or patients.',0,0,1,NULL),
			(@og8,'4.5 Physical abuse - perpetrator of','4.5',NULL,NULL,NULL,0,25,'Perpetrator of sexual suggestion or innuendo and/or physical touching in the workplace involving patients or colleagues',0,0,1,NULL),
			(@og8,'4.6 Sexual abuse - perpetrator of','4.6',NULL,NULL,NULL,0,26,'Perpetrator of hitting or other physical violence in the workplace involving patients or colleagues',0,0,1,NULL),
			(@og8,'4.7 Disruptive behaviour - perpetrator of','4.7',NULL,NULL,NULL,0,27,'Causing disruption in the workplace by lack of cooperation with colleagues and/or co-workers',0,0,1,NULL),
			(@og8,'4.8 Workplace relationships','4.8',NULL,NULL,NULL,0,28,'Distress related to difficulties in getting along with one or more co-workers',0,0,1,NULL),
			(@og8,'4.9 Occupational stress or burnout','4.9',NULL,NULL,NULL,0,29,'Burnout and problems related to workload, scheduling, shifts, insufficient resources',0,0,1,NULL),
			(@og8,'4.10 Occupation or job change','4.10',NULL,NULL,NULL,0,30,'Requires guidance in change of job or occupation',0,0,1,NULL),
			(@og8,'4.11 Retirement','4.11',NULL,NULL,NULL,0,31,'Help with planning retirement, or difficulties in dealing with life changes accompanying retirement',0,0,1,NULL),
			(@og8,'4.12 Other occupational issues','4.12',NULL,NULL,NULL,0,32,'Specify',0,0,1,NULL),
			(@og8,'4.13 Audit','4.13',NULL,NULL,NULL,0,33,'Random practice audit - generally as arising form Peer Assessment Programs or College Quality Assurance programs',0,0,1,NULL),
			(@og8,'4.14 Regulatory complaint','4.14',NULL,NULL,NULL,0,34,'Patient complaint received by College giving rise to investigation',0,0,1,NULL),
			(@og8,'4.15 Professional boundary issues','4.15',NULL,NULL,NULL,0,35,'Inappropriate boundaries with patients',0,0,1,NULL),
			(@og8,'4.16 Other regulatory issues','4.16',NULL,NULL,NULL,0,36,'Examples include Registration considerations, seeking reinstatement of privileges or changing existing licensing restrictions',0,0,1,NULL),
			(@og8,'4.17 Practice related financial problems','4.17',NULL,NULL,NULL,0,37,'Concerns related to management of practice finances or due to practice audits/repayments (e.g. Medican Review Committee, Revenue Canada)',0,0,1,NULL),
			(@og8,'4.18 Civil suit related to practice','4.18',NULL,NULL,NULL,0,38,'Arising form patient who has pursued civil litigation related to allegations of substandard treatment - patient or other party seeking damages',0,0,1,NULL),
			(@og8,'4.19 Criminal charges related to practice','4.19',NULL,NULL,NULL,0,39,'Arising from charges related to sexual abuse of a patient, fraud, narcotics offenses.',0,0,1,NULL),
			(@og8,'4.20 Other legal & licensing issues','4.20',NULL,NULL,NULL,0,40,'Specify',0,0,1,NULL),
			(@og8,'Family - Relationship','5',NULL,NULL,NULL,0,41,'Problems in relationships with spouse, partner, children.  Caregiver issues and other family problems.',0,0,1,NULL),
			(@og8,'5.1 Marital/partner/relationship','5.1',NULL,NULL,NULL,0,42,'Problems with spouse, partner, or romantic relationship, including separation or divorce.',0,0,1,NULL),
			(@og8,'5.2 Parenting','5.2',NULL,NULL,NULL,0,43,'Problems in dealing with children.',0,0,1,NULL),
			(@og8,'5.3 Caregiver of parents, other','5.3',NULL,NULL,NULL,0,44,'Problems relating to caring for parents or other relatives who need care, including time management, arranging of care, and emotional issues.',0,0,1,NULL),
			(@og8,'5.4 Domestic Violence','5.4',NULL,NULL,NULL,0,45,'Experience of physical abuse in the home, victim or perpetrator.',0,0,1,NULL),
			(@og8,'5.5 Other family problems','5.5',NULL,NULL,NULL,0,46,'Specify',0,0,1,NULL),
			(@og8,'Physical / Medical / Cognitive','6',NULL,NULL,NULL,0,47,'Physical disabilities, blood borne pathogens, chronic pain, other chronic conditions incl. Cognitive issues',0,0,1,NULL),
			(@og8,'6.1 Physical disability','6.1',NULL,NULL,NULL,0,48,'Chronic physical disability that interferes with work or other aspects of life',0,0,1,NULL),
			(@og8,'6.2 Blood borne pathogen','6.2',NULL,NULL,NULL,0,49,'e.g. HIV, Hep C, Hep B',0,0,1,NULL),
			(@og8,'6.3 Chronic pain','6.3',NULL,NULL,NULL,0,50,'Chronic pain that interferes with work or other aspects of life',0,0,1,NULL),
			(@og8,'6.4 Other medical problem(s)','6.4',NULL,NULL,NULL,0,51,'Specify',0,0,1,NULL),
			(@og8,'6.5 Ageing','6.5',NULL,NULL,NULL,0,52,'',0,0,1,NULL),
			(@og8,'6.6 Neuro-degenerative illnesses','6.6',NULL,NULL,NULL,0,53,'',0,0,1,NULL),
			(@og8,'6.7 Other cognitive issues','6.7',NULL,NULL,NULL,0,54,'Specify',0,0,1,NULL),
			(@og8,'Other personal (Non-occupational)','7',NULL,NULL,NULL,0,55,'Problems experienced in personal life including abuse, civil litigation, financial, grief, and support',0,0,1,NULL),
			(@og8,'7.1 Emotional abuse - subject of','7.1',NULL,NULL,NULL,0,56,'Subject of verbal abuse or harassment causing emotional distress outside of the workplace setting.',0,0,1,NULL),
			(@og8,'7.2 Sexual abuse - subject of','7.2',NULL,NULL,NULL,0,57,'Subject of unwanted sexual verbal suggestions or innuendo and/or physical touching in outside of the workplace setting.',0,0,1,NULL),
			(@og8,'7.3 Physical abuse - subject of','7.3',NULL,NULL,NULL,0,58,'Subject of hitting or other physical violence that does not involve spouse/partner outside of the workplace setting.',0,0,1,NULL),
			(@og8,'7.4 Emotional abuse - perpetrator of','7.4',NULL,NULL,NULL,0,59,'Perpetrator of verbal abuse or harassment causing emotional distress outside of the workplace setting.',0,0,1,NULL),
			(@og8,'7.5 Physical abuse - perpetrator of','7.5',NULL,NULL,NULL,0,60,'Perpetrator of sexual suggestion or innuendo and/or physical touching outside of the workplace setting.',0,0,1,NULL),
			(@og8,'7.6 Sexual abuse - perpetrator of','7.6',NULL,NULL,NULL,0,61,'Perpetrator of hitting or other physical violence that does not involve spouse/partner outside of the workplace setting.',0,0,1,NULL),
			(@og8,'7.7 Personal financial troubles','7.7',NULL,NULL,NULL,0,62,'',0,0,1,NULL),
			(@og8,'7.8 Civil legal issues','7.8',NULL,NULL,NULL,0,63,'May include lawsuits not related to practice -  divorce proceedings, child custody etc.',0,0,1,NULL),
			(@og8,'7.9 Criminal legal issues','7.9',NULL,NULL,NULL,0,64,'Criminal charges not related to practice - divorce proceedings, child custody etc.',0,0,1,NULL),
			(@og8,'7.10 Other personal','7.10',NULL,NULL,NULL,0,65,'Specify',0,0,1,NULL);
									
INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
    VALUES  (@cg, 'Caller', 'String', 'Radio', '', 1, 0, 0, 5, NULL, NULL, NULL, NULL, NULL, 1, 0, 3, 255, NULL, NULL, 'MdY', 60, 4, 'caller_4', @og1),
            (@cg, 'Urgency Rating', 'String', 'Radio', NULL, 1, 1, 0, 7, NULL, '(1 = not very, 5 = extremely urgent)', NULL, NULL, NULL, 1, 0, NULL, 255, NULL, NULL, 'MdY', 60, 4, 'severity_rating_5', @og2),
            (@cg, 'Problem Person', 'String', 'Radio', NULL, 1, 1, 0, 6, NULL, NULL, NULL, NULL, NULL, 1, 0, 3, 255, NULL, NULL, 'MdY', 60, 4, 'problem_person_6', @og3),
            (@cg, 'How Did You Hear About Us?', 'String', 'Radio', NULL, 0, 1, 0, 4, NULL, NULL, NULL, NULL, NULL, 1, 0, 2, 255, NULL, NULL, 'MdY', 60, 4, 'how_hear_7', @og4),
			(@cg, 'Are any of the following of concern?','String','CheckBox','',0,0,0,1,NULL,NULL,NULL,NULL,NULL,1,0,3,255,NULL,NULL,'MdY',60,4,'self_care_8',@og5),
			(@cg, 'Do You Have A Family Physician?','Boolean','Radio',NULL,1,0,0,2,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'hcp_9', NULL),
            (@cg, 'When was your last visit?','Date','Select Date',NULL,0,0,0,3,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,10,0,'MdY',60,4,'hcp_last_seen_10', NULL),
            (@cg, 'Complexity Rating', 'String', 'Radio', NULL, 1, 1, 0, 8, NULL, '(1 = least complex, 5 = most complex) If greater than 2, call the Director, otherwise schedule a followup and obtain any necessary consents.', NULL, NULL, NULL, 1, 0, NULL, 255, NULL, NULL, 'MdY', 60, 4, 'complexity_rating_11', @og6),
			(@cg, 'Major Concerns','String','CheckBox','',0,0,0,9,NULL,NULL,NULL,NULL,NULL,1,0,3,255,NULL,NULL,'MdY',60,4,'major_concerns_12',@og7),
			(@cg, 'Principal Presenting Problem','String','Select',NULL,1,0,0,10,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'principal_presenting_problem_46',@og8),
			(@cg, 'Other Presenting Problems','String','CheckBox','',0,0,0,11,NULL,NULL,NULL,NULL,NULL,1,0,1,255,NULL,NULL,'MdY',60,4,'other_presenting_problems_47',@og8);
            
CREATE TABLE `civicrm_value_intake_questions_2` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `caller_4` varchar(255) collate utf8_unicode_ci default '',
  `severity_rating_5` varchar(255) collate utf8_unicode_ci default NULL,
  `problem_person_6` varchar(255) collate utf8_unicode_ci default NULL,
  `how_hear_7` varchar(255) collate utf8_unicode_ci default NULL,
  `self_care_8` varchar(255) collate utf8_unicode_ci default '',
  `hcp_9` tinyint(4) default NULL,
  `hcp_last_seen_10` datetime default NULL,
  `complexity_rating_11` varchar(255) collate utf8_unicode_ci default NULL,
  `major_concerns_12` varchar(255) collate utf8_unicode_ci default '',
  `principal_presenting_problem_46` varchar(255) collate utf8_unicode_ci default NULL,
  `other_presenting_problems_47` varchar(255) collate utf8_unicode_ci default '',
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  KEY `INDEX_severity_rating_5` (`severity_rating_5`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

ALTER TABLE `civicrm_value_intake_questions_2`
  ADD CONSTRAINT `FK_civicrm_value_intake_questions_2_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE;

--
-- Plan intervention custom fields
--
INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`) 
 VALUES ('Plan_Intervention','Plan Intervention','Activity',NULL,@at18,'Inline',0,'','',5,1,'civicrm_value_plan_intervention_11',0,0,0);
SELECT @cg_pi := max(id) from civicrm_custom_group where name = 'Plan_Intervention';

INSERT INTO `civicrm_option_group` (`name`, `label`, `description`, `is_reserved`, `is_active`)
 VALUES ('intervention_type_20081216112316','Intervention Type',NULL,NULL,1);
SELECT @og_pi := max(id) from civicrm_option_group where name = 'intervention_type_20081216112316';

INSERT INTO `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`, `component_id`, `visibility_id`) 
 VALUES
 (@og_pi,'Surprise','1',NULL,NULL,NULL,0,1,NULL,0,0,1,NULL,NULL),
 (@og_pi,'Invitational','2',NULL,NULL,NULL,0,2,NULL,0,0,1,NULL,NULL);

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
 VALUES (@cg_pi,'Intervention Type','String','Radio','1',1,0,0,1,NULL,NULL,NULL,NULL,NULL,1,0,2,255,NULL,NULL,'MdY',60,4,'intervention_type_45',@og_pi);

CREATE TABLE `civicrm_value_plan_intervention_11` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `intervention_type_45` varchar(255) collate utf8_unicode_ci default '1',
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  CONSTRAINT `FK_civicrm_value_plan_intervention_11_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- 
-- Skeleton Classification
--
-- Sample of how it might be done
--

INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
 VALUES ('Classifications_Skeleton','Classifications Skeleton','Activity',NULL,@at3,'Inline',0,'','',3,1,'civicrm_value_classifications_skeleton_3',0,0,0);
SELECT @cg2 := max(id) from civicrm_custom_group where name = 'Classifications_Skeleton';

INSERT INTO `civicrm_option_group` (`name`, `label`, `description`, `is_reserved`, `is_active`)
 VALUES ('skeletion_classifications_20081217000000','Skeleton Classifications','Example set of options for a classification',NULL,1);
SELECT @og_skel := max(id) from civicrm_option_group where name = 'skeletion_classifications_20081217000000';

INSERT INTO `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`, `component_id`, `visibility_id`) 
 VALUES
 (@og_skel,'Skeleton Option 1','1',NULL,NULL,NULL,0,1,NULL,0,0,1,NULL,NULL),
 (@og_skel,'Skeleton Option 2','2',NULL,NULL,NULL,0,2,NULL,0,0,1,NULL,NULL),
 (@og_skel,'Skeleton Option 3','3',NULL,NULL,NULL,0,3,NULL,0,0,1,NULL,NULL);

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
VALUES
 (@cg2,'Principal Classification','String','Select',NULL,1,0,0,1,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'principal_classification_6',@og_skel),
 (@cg2,'Other Classifications','String','CheckBox','',0,0,0,2,NULL,NULL,NULL,NULL,NULL,1,0,1,255,NULL,NULL,'MdY',60,4,'other_classifications_7',@og_skel),
 (@cg2,'Classification version','String','Text',NULL,0,0,0,3,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_version_8',NULL),
 (@cg2,'Classification dilemma','Boolean','Radio',NULL,0,0,0,4,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_dilemma_9',NULL);

CREATE TABLE `civicrm_value_classifications_skeleton_3` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `principal_classification_6` varchar(255) collate utf8_unicode_ci default NULL,
  `other_classifications_7` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_version_8` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_dilemma_9` tinyint(4) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  CONSTRAINT `FK_civicrm_value_classifications_skeleton_3_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE
);

-- 
-- Classification - Presenting Problem
--
-- Note this technically isn't presenting problem, but seems to commonly be referred to that way. It's when the problems change over the life of the case.
-- Note also it shares the option group from before on the intake form.
--

INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
 VALUES ('Classifications_PP','Classifications Presenting Problem','Activity',NULL,@at25,'Inline',0,'','',3,1,'civicrm_value_classifications_pp_3',0,0,0);
SELECT @cg_pp := max(id) from civicrm_custom_group where name = 'Classifications_PP';

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
VALUES
 (@cg_pp,'Principal Classification','String','Select',NULL,1,0,0,1,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'principal_classification_6',@og8),
 (@cg_pp,'Other Classifications','String','CheckBox','',0,0,0,2,NULL,NULL,NULL,NULL,NULL,1,0,1,255,NULL,NULL,'MdY',60,4,'other_classifications_7',@og8),
 (@cg_pp,'Classification version','String','Text','1.0',0,0,0,3,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_version_8',NULL),
 (@cg_pp,'Classification dilemma','Boolean','Radio',0,0,0,0,4,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_dilemma_9',NULL);

CREATE TABLE `civicrm_value_classifications_pp_3` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `principal_classification_6` varchar(255) collate utf8_unicode_ci default NULL,
  `other_classifications_7` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_version_8` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_dilemma_9` tinyint(4) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  CONSTRAINT `FK_civicrm_value_classifications_pp_3_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE
);

-- 
-- Classification - Specialty Certification
--

INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
 VALUES ('Classifications_SC','Classifications Specialty Certification','Activity',NULL,@at26,'Inline',0,'','',3,1,'civicrm_value_classifications_sc_3',0,0,0);
SELECT @cg_sc := max(id) from civicrm_custom_group where name = 'Classifications_SC';

INSERT INTO `civicrm_option_group` (`name`, `label`, `description`, `is_reserved`, `is_active`)
 VALUES ('sc_classifications_20081217000000','Specialty Certification Classifications','Specialty Certification',NULL,1);
SELECT @og_sc := max(id) from civicrm_option_group where name = 'sc_classifications_20081217000000';

INSERT INTO `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`, `component_id`, `visibility_id`) 
 VALUES
 (@og_sc,'List of things to enter here TBD','1',NULL,NULL,NULL,0,1,NULL,0,0,1,NULL,NULL),
 (@og_sc,'Option 2','2',NULL,NULL,NULL,0,2,NULL,0,0,1,NULL,NULL),
 (@og_sc,'Option 3','3',NULL,NULL,NULL,0,3,NULL,0,0,1,NULL,NULL);

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
VALUES
 (@cg_sc,'Principal Classification','String','Select',NULL,1,0,0,1,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'principal_classification_6',@og_sc),
 (@cg_sc,'Other Classifications','String','CheckBox','',0,0,0,2,NULL,NULL,NULL,NULL,NULL,1,0,1,255,NULL,NULL,'MdY',60,4,'other_classifications_7',@og_sc),
 (@cg_sc,'Classification version','String','Text','1.0',0,0,0,3,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_version_8',NULL),
 (@cg_sc,'Classification dilemma','Boolean','Radio',0,0,0,0,4,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_dilemma_9',NULL);

CREATE TABLE `civicrm_value_classifications_sc_3` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `principal_classification_6` varchar(255) collate utf8_unicode_ci default NULL,
  `other_classifications_7` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_version_8` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_dilemma_9` tinyint(4) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  CONSTRAINT `FK_civicrm_value_classifications_sc_3_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE
);


-- /*******************************************************
-- *
-- * Relationship Types
-- *
-- *******************************************************/
INSERT INTO civicrm_relationship_type( name_a_b, name_b_a, description, contact_type_a, contact_type_b, is_reserved )
    VALUES( 'Case Coordinator is', 'Case Coordinator', 'Case Coordinator', 'Individual', 'Individual', 0 );
SELECT @cR            := max(id) from civicrm_relationship_type where name_b_a = 'Case Coordinator';

INSERT INTO civicrm_relationship_type( name_a_b, name_b_a, description, contact_type_a, contact_type_b, is_reserved )
    VALUES( 'Addiction Counselor is', 'Addiction Counselor', 'Addiction Counselor', 'Individual', 'Individual', 0 );
SELECT @aR            := max(id) from civicrm_relationship_type where name_b_a = 'Addiction Counselor';

INSERT INTO civicrm_relationship_type( name_a_b, name_b_a, description, contact_type_a, contact_type_b, is_reserved )
    VALUES( 'Supervised by', 'Supervisor', 'Immediate workplace supervisor', 'Individual', 'Individual', 0 );
SELECT @sR            := max(id) from civicrm_relationship_type where name_b_a = 'Supervisor';

INSERT INTO civicrm_relationship_type( name_a_b, name_b_a, description, contact_type_a, contact_type_b, is_reserved )
    VALUES( 'Intake Physician is', 'Intake Physician', 'Intake Physician', 'Individual', 'Individual', 0 );
SELECT @iR            := max(id) from civicrm_relationship_type where name_b_a = 'Intake Physician';

INSERT INTO civicrm_relationship_type( name_a_b, name_b_a, description, contact_type_a, contact_type_b, is_reserved )
    VALUES( 'Family Physician is', 'Family Physician', 'Family Physician', 'Individual', 'Individual', 0 );
SELECT @fR            := max(id) from civicrm_relationship_type where name_b_a = 'Family Physician';


-- /*******************************************************
-- *
-- * Encounter Medium Option Values
-- *
-- *******************************************************/
INSERT INTO `civicrm_option_group` (name, label, description, is_reserved, is_active)
    VALUES  ('encounter_medium', 'Encounter Medium', 'Encounter medium for case activities (e.g. In Person, By Phone, etc.)', 1, 1);
SELECT @option_group_id_medium        := max(id) from civicrm_option_group where name = 'encounter_medium';
INSERT INTO
   `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`)
VALUES
    (@option_group_id_medium, 'In Person',  1, 'in_person', NULL, 0,  0, 1, NULL, 0, 1, 1),
    (@option_group_id_medium, 'Phone',  2, 'phone', NULL, 0,  1, 2, NULL, 0, 1, 1),
    (@option_group_id_medium, 'Email',  3, 'email', NULL, 0,  0, 3, NULL, 0, 1, 1),
    (@option_group_id_medium, 'Fax',  4, 'fax', NULL, 0,  0, 4, NULL, 0, 1, 1),
    (@option_group_id_medium, 'Letter Mail',  5, 'letter_mail', NULL, 0,  0, 5, NULL, 0, 1, 1);


-- /*******************************************************
-- *
-- * Some users
-- *
-- *******************************************************/

INSERT INTO `civicrm_contact` (`contact_type`, `contact_sub_type`, `do_not_email`, `do_not_phone`, `do_not_mail`, `do_not_trade`, `is_opt_out`, `legal_identifier`, `external_identifier`, `sort_name`, `display_name`, `nick_name`, `legal_name`, `home_URL`, `image_URL`, `preferred_communication_method`, `preferred_mail_format`, `hash`, `source`, `first_name`, `middle_name`, `last_name`, `prefix_id`, `suffix_id`, `greeting_type_id`, `custom_greeting`, `job_title`, `gender_id`, `birth_date`, `is_deceased`, `deceased_date`, `mail_to_household_id`, `household_name`, `primary_contact_id`, `organization_name`, `sic_code`, `user_unique_id`, `employer_id`)
VALUES
 ('Individual',NULL,0,0,0,0,0,NULL,NULL,'Inigo, Ichabod','Ichabod Inigo',NULL,NULL,NULL,NULL,NULL,'Both','25e4742ec6bffd59a0f3f3d11b24b893',NULL,'Ichabod',NULL,'Inigo',NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL),
 ('Individual',NULL,0,0,0,0,0,NULL,NULL,'Leeman, Lori','Lori Leeman',NULL,NULL,NULL,NULL,NULL,'Both','5cd4c857af683c470bd77fc14e7d0a22',NULL,'Lori',NULL,'Leeman',NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL),
 ('Individual',NULL,0,0,0,0,0,NULL,NULL,'Poter, Ron','Ron Poter',NULL,NULL,NULL,NULL,NULL,'Both','3bd77fc14e7d0a2225e4742ec6bffd59',NULL,'Ron',NULL,'Poter',NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL),
 ('Individual',NULL,0,0,0,0,0,NULL,NULL,'Maximillian, Mojo','Mojo Maximillian',NULL,NULL,NULL,NULL,NULL,'Both','6855423eb12c81d807fd68cbe56860b6',NULL,'Mojo',NULL,'Maximillian',NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL),
 ('Individual',NULL,0,0,0,0,0,NULL,NULL,'Coolidge, Carla','Carla Coolidge',NULL,NULL,NULL,NULL,NULL,'Both','75c00aada54be20564feae976f94e7db',NULL,'Carla',NULL,'Coolidge',NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL),
 ('Individual',NULL,0,0,0,0,0,NULL,NULL,'Bunbury, Beth','Beth Bunbury',NULL,NULL,NULL,NULL,NULL,'Both','21111d8989730de6fed72f0bc3ccc70e',NULL,'Beth',NULL,'Bunbury',NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);

SELECT @cid1 := id from civicrm_contact WHERE hash='25e4742ec6bffd59a0f3f3d11b24b893';
SELECT @cid2 := id from civicrm_contact WHERE hash='5cd4c857af683c470bd77fc14e7d0a22';
SELECT @cid3 := id from civicrm_contact WHERE hash='3bd77fc14e7d0a2225e4742ec6bffd59';
SELECT @cid4 := id from civicrm_contact WHERE hash='6855423eb12c81d807fd68cbe56860b6';
SELECT @cid5 := id from civicrm_contact WHERE hash='75c00aada54be20564feae976f94e7db';
SELECT @cid6 := id from civicrm_contact WHERE hash='21111d8989730de6fed72f0bc3ccc70e';

INSERT INTO `civicrm_email` (`contact_id`, `location_type_id`, `email`, `is_primary`, `is_billing`, `on_hold`, `is_bulkmail`, `hold_date`, `reset_date`)
VALUES
 (@cid1,2,'ichabod.inigo@physicianhealth.com',1,0,0,0,NULL,NULL),
 (@cid2,2,'lori.leeman@physicianhealth.com',1,0,0,0,NULL,NULL),
 (@cid3,2,'ron.poter@physicianhealth.com',1,0,0,0,NULL,NULL),
 (@cid4,2,'mojo.maximillian@physicianhealth.com',1,0,0,0,NULL,NULL),
 (@cid5,2,'carla.coolidge@physicianhealth.com',1,0,0,0,NULL,NULL),
 (@cid6,2,'beth.bunbury@physicianhealth.com',1,0,0,0,NULL,NULL);

-- /*******************************************************
-- *
-- * Some cases
-- *
-- * Note this still needs some work for the actual entries to make logical real-world sense.
-- *
-- *******************************************************/

-- ** Case #1 **
--
INSERT INTO `civicrm_case` (`case_type_id`, `subject`, `start_date`, `end_date`, `details`, `status_id`, `is_deleted`)
VALUES
 ('3',NULL,CURDATE(),NULL,NULL,1,0);
SELECT @caseId1 := max(id) from civicrm_case;

INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES
 ('civicrm_contact',@cid1,CONCAT('civicrm_contact,', @cid1),@cid1,NOW()),
 ('civicrm_case',1,NULL,@cid1,NOW());
 
INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at1,'Subject for open case',CURDATE(),CURDATE(),5,NULL,NULL,NULL,'Some test details',2,NULL,NULL,0,2,0,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId1,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid2);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid2),@cid1,NOW());
INSERT INTO `civicrm_value_intake_questions_2` (`entity_id`, `caller_4`, `severity_rating_5`, `problem_person_6`, `how_hear_7`, `self_care_8`, `hcp_9`, `hcp_last_seen_10`, `complexity_rating_11`, `major_concerns_12`, `principal_presenting_problem_46`, `other_presenting_problems_47`)
VALUES
 (@actId,'Physician','1','Caller','Personal knowledge', '',0,NULL,1,'','2.2','');

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at24,' ',NULL,DATE_ADD(NOW(), INTERVAL 2 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId1,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid2);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid2),@cid1,NOW());

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at22,' ',NULL,DATE_ADD(NOW(), INTERVAL 2 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId1,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid2);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid2),@cid1,NOW());

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at23,' ',NULL,DATE_ADD(NOW(), INTERVAL 21 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId1,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid2);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid2),@cid1,NOW());

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at2,' ',NULL,DATE_ADD(NOW(), INTERVAL 14 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId1,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid2);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid2),@cid1,NOW()); 

INSERT INTO `civicrm_case_contact` (`case_id`, `contact_id`) VALUES (@caseId1, @cid2);

INSERT INTO `civicrm_relationship` (`contact_id_a`, `contact_id_b`, `relationship_type_id`, `start_date`, `end_date`, `is_active`, `description`, `is_permission_a_b`, `is_permission_b_a`, `case_id`) 
VALUES
 (@cid2,@cid1,@iR,NULL,NULL,1,NULL,0,0,@caseId1);

--
-- ** Case #2 **
--
INSERT INTO `civicrm_case` (`case_type_id`, `subject`, `start_date`, `end_date`, `details`, `status_id`, `is_deleted`)
VALUES
 ('1',NULL,CURDATE(),NULL,NULL,1,0);
SELECT @caseId2 := max(id) from civicrm_case;

INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES
 ('civicrm_contact',@cid1,CONCAT('civicrm_contact,', @cid1),@cid1,NOW()),
 ('civicrm_case',@caseId2,NULL,@cid1,NOW());
 
INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at1,'Subject for open case',CURDATE(),CURDATE(),5,NULL,NULL,NULL,'Some test details',2,NULL,NULL,0,2,0,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId2,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid3);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid3),@cid1,NOW());
INSERT INTO `civicrm_value_intake_questions_2` (`entity_id`, `caller_4`, `severity_rating_5`, `problem_person_6`, `how_hear_7`, `self_care_8`, `hcp_9`, `hcp_last_seen_10`, `complexity_rating_11`, `major_concerns_12`, `principal_presenting_problem_46`, `other_presenting_problems_47`)
VALUES
 (@actId,'Physician','1','Caller','Personal knowledge','2',0,NULL,1,'','7.10','');

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at12,' ',NULL,NOW(),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId2,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid3);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid3),@cid1,NOW());

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at13,' ',NULL,DATE_ADD(NOW(), INTERVAL 7 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId2,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid3);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid3),@cid1,NOW());

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at14,' ',NULL,DATE_ADD(NOW(), INTERVAL 14 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId2,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid3);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid3),@cid1,NOW());

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at15,' ',NULL,DATE_ADD(NOW(), INTERVAL 28 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId2,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid3);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid3),@cid1,NOW());

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at16,' ',NULL,DATE_ADD(NOW(), INTERVAL 56 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId2,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid3);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid3),@cid1,NOW());

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at2,' ',NULL,DATE_ADD(NOW(), INTERVAL 14 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId2,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid3);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid3),@cid1,NOW()); 

INSERT INTO `civicrm_case_contact` (`case_id`, `contact_id`) VALUES (@caseId2, @cid3);

INSERT INTO `civicrm_relationship` (`contact_id_a`, `contact_id_b`, `relationship_type_id`, `start_date`, `end_date`, `is_active`, `description`, `is_permission_a_b`, `is_permission_b_a`, `case_id`) 
VALUES
 (@cid3,@cid1,@iR,NULL,NULL,1,NULL,0,0,@caseId2);

--
-- ** Case #3 **
--
INSERT INTO `civicrm_case` (`case_type_id`, `subject`, `start_date`, `end_date`, `details`, `status_id`, `is_deleted`)
VALUES
 ('2',NULL,CURDATE(),NULL,NULL,1,0);
SELECT @caseId3 := max(id) from civicrm_case;

INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES
 ('civicrm_contact',@cid1,CONCAT('civicrm_contact,', @cid1),@cid1,'2007-03-17 12:03:47'),
 ('civicrm_case',@caseId3,NULL,@cid1,'2007-03-17 12:03:47');
 
INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at1,'Subject for open case','2007-03-17 00:00:00','2007-03-17 00:00:00',5,NULL,NULL,NULL,'Some test details',2,NULL,NULL,0,2,0,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId3,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid6);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid6),@cid1,'2007-03-17 12:03:47');
INSERT INTO `civicrm_value_intake_questions_2` (`entity_id`, `caller_4`, `severity_rating_5`, `problem_person_6`, `how_hear_7`, `self_care_8`, `hcp_9`, `hcp_last_seen_10`, `complexity_rating_11`, `major_concerns_12`, `principal_presenting_problem_46`, `other_presenting_problems_47`)
VALUES
 (@actId,'Physician','1','Caller','Personal knowledge','',1,'2007-03-02',1,'','1.1','3.2');

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at18,' ',NULL,DATE_ADD('2007-03-17 12:03:47', INTERVAL 4 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId18 := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId3,@actId18);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId18, @cid6);
SELECT @actTargetId18 := max(id) from civicrm_activity_target;
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId18,CONCAT('Activity created for source=', @cid1, 'target=', @cid6),@cid1,'2007-03-17 12:03:47');

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at19,' ',NULL,DATE_ADD('2007-03-17 12:03:47', INTERVAL 7 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId19 := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId3,@actId19);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId19, @cid6);
SELECT @actTargetId19 := max(id) from civicrm_activity_target;
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId19,CONCAT('Activity created for source=', @cid1, 'target=', @cid6),@cid1,'2007-03-17 12:03:47');

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at20,' ',NULL,DATE_ADD('2007-03-17 12:03:47', INTERVAL 8 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId20 := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId3,@actId20);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId20, @cid6);
SELECT @actTargetId20 := max(id) from civicrm_activity_target;
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId20,CONCAT('Activity created for source=', @cid1, 'target=', @cid6),@cid1,'2007-03-17 12:03:47');

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at21,' ',NULL,DATE_ADD('2007-03-17 12:03:47', INTERVAL 9 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId21 := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId3,@actId21);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId21, @cid6);
SELECT @actTargetId21 := max(id) from civicrm_activity_target;
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId21,CONCAT('Activity created for source=', @cid1, 'target=', @cid6),@cid1,'2007-03-17 12:03:47');

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid1,NULL,@at2,' ',NULL,DATE_ADD('2007-03-17 12:03:47', INTERVAL 14 DAY),NULL,NULL,NULL,NULL,NULL,1,NULL,NULL,0,NULL,1,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId3,@actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`) VALUES (@actId, @cid6);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid1, 'target=', @cid6),@cid1,'2007-03-17 12:03:47'); 

INSERT INTO `civicrm_case_contact` (`case_id`, `contact_id`) VALUES (@caseId3, @cid6);

INSERT INTO `civicrm_relationship` (`contact_id_a`, `contact_id_b`, `relationship_type_id`, `start_date`, `end_date`, `is_active`, `description`, `is_permission_a_b`, `is_permission_b_a`, `case_id`) 
VALUES
 (@cid6,@cid1,@iR,NULL,NULL,1,NULL,0,0,@caseId3);
 
-- Simulate progress of case #3
INSERT INTO `civicrm_relationship` (`contact_id_a`, `contact_id_b`, `relationship_type_id`, `start_date`, `end_date`, `is_active`, `description`, `is_permission_a_b`, `is_permission_b_a`, `case_id`) 
VALUES
(@cid6,@cid5,@cR,NULL,NULL,1,NULL,0,0,@caseId3);

SELECT @option_group_id_acs := max(id) from civicrm_option_group where name = 'activity_status';
SELECT @completedStatus := max(value) from civicrm_option_value where option_group_id=@option_group_id_acs AND name = 'Completed';
SELECT @em := max(value) FROM civicrm_option_value WHERE option_group_id=@option_group_id_medium AND name='in_person';
UPDATE `civicrm_activity` SET
 subject=' Planned intervention',
 activity_date_time='2007-03-18 14:52:09',
 duration=1,
 status_id=@completedStatus,
 medium_id=@em
 WHERE id=@actId18;
DELETE FROM `civicrm_activity_target` WHERE id=@actTargetId18;
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES
 ('civicrm_activity',@actId18,CONCAT('Activity (id: ', @actId18, ' ) updated with source=', @cid5),@cid5,'2007-03-18 14:52:09');

SELECT @emPhone := max(value) FROM civicrm_option_value WHERE option_group_id=@option_group_id_medium AND name='phone';

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES (@cid5,NULL,@at2,' Received call from relative','2007-03-19 12:21:14','2007-03-19 12:21:14',2,NULL,NULL,NULL,'Relative declined to identify self. Said that BB (etc...)',@completedStatus,NULL,NULL,0,@emPhone,0,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId3,@actId);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES ('civicrm_activity',@actId,CONCAT('Activity created for source=', @cid5, 'target=', @cid6),@cid5,'2007-03-19 12:21:14'); 

UPDATE `civicrm_activity` SET
 subject=' Rehearsed intervention',
 activity_date_time='2007-03-20 18:00:00',
 duration=120,
 status_id=@completedStatus,
 medium_id=@em
 WHERE id=@actId19;
DELETE FROM `civicrm_activity_target` WHERE id=@actTargetId19;
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES
 ('civicrm_activity',@actId19,CONCAT('Activity (id: ', @actId19, ' ) updated with source=', @cid5),@cid5,'2007-03-20 19:12:17');

UPDATE `civicrm_activity` SET
 subject=' Conducted intervention',
 activity_date_time='2007-03-25 13:30:00',
 duration=120,
 status_id=@completedStatus,
 medium_id=@em,
 details='BB ran off to Mexico. Exact whereabouts unknown.'
 WHERE id=@actId20;
DELETE FROM `civicrm_activity_target` WHERE id=@actTargetId20;
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES
 ('civicrm_activity',@actId20,CONCAT('Activity (id: ', @actId20, ' ) updated with source=', @cid5),@cid5,'2007-03-25 17:01:44');

INSERT INTO `civicrm_file` (`file_type_id`, `mime_type`, `uri`, `document`, `description`,`upload_date`)
VALUES
 (NULL,'img/tiff','\\fax.tif',NULL,NULL,'2007-03-18 14:52:09');
SELECT @fileId := max(id) FROM civicrm_file;
INSERT INTO `civicrm_entity_file` (`entity_table`, `entity_id`, `file_id`) VALUES ('civicrm_activity',@actId20,@fileId);

UPDATE `civicrm_activity` SET
 subject=' Debriefed',
 activity_date_time='2007-03-26 13:30:00',
 duration=120,
 status_id=@completedStatus,
 medium_id=@em
 WHERE id=@actId21;
DELETE FROM `civicrm_activity_target` WHERE id=@actTargetId21;
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES
 ('civicrm_activity',@actId21,CONCAT('Activity (id: ', @actId21, ' ) updated with source=', @cid5),@cid5,'2007-03-26 16:41:03');

SELECT @caseStatus := max(value) FROM civicrm_option_value WHERE option_group_id = @csgId AND name='Closed';
UPDATE `civicrm_case` SET end_date='2007-03-26', status_id=@caseStatus WHERE id=@caseId3;
INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`, `is_deleted`)
VALUES
 (@cid5,NULL,@at5,'Case Closure','2007-03-26 17:15:00','2007-03-26 16:45:00',NULL,NULL,NULL,NULL,NULL,@completedStatus,NULL,NULL,0,@em,0,NULL,1,NULL,0);
SELECT @actId := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`) VALUES (@caseId3,@actId);
INSERT INTO `civicrm_log` (`entity_table`, `entity_id`, `data`, `modified_id`, `modified_date`)
VALUES
 ('civicrm_case',@caseId3,NULL,@cid5,'2007-03-26 16:45:00'),
 ('civicrm_activity',@actId,CONCAT('Activity created for source=',@cid5),@cid5,'2007-03-26 16:45:00');
